# Blobデータの取り扱いについて

- [Blobデータの取り扱いについて](#blobデータの取り扱いについて)
  - [FE](#fe)
  - [CMS](#cms)
  - [BE](#be)
  - [バッチ](#バッチ)

## FE

- 拡張子別
  - mdの場合
  - 画像ファイル(jpg|png)の場合
    - (TODO) 検証は必要だがimgタグのsrcにバイナリを取得するAPI URLを指定することでBLOBデータ表示はできないか？セキュリティ的な制約はあるのか？

## CMS

- UL(アップロード)
  - ULはノード登録・更新とは別枠で実施
    - BLOB登録処理を先行実施
    - BLOB登録処理はBLOBIDを返却する
    - 返却されたBLOBIDをノード登録・更新APIのINとしてノードとBLOBを関連付ける
- DL(ダウンロード)

## BE

- GET

- POST|PUT

- DELETE

## バッチ

- 手動実行
- ノード管理とBLOB管理の突合せ
  - BLOBフラグ=1:BLOBファイルのノード管理
  - BLOB管理
- 突合せ結果
  - BLOB管理にしか存在しないBLOB管理データは削除
  - ノード管理にしか存在しないBLOBフラグ=1:BLOBファイルのデータはWARNログに一覧出力
